<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Hadapsar Testnet - Developer Experience · MosaicDAO</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="# Developer Experience"/><meta name="docsearch:version" content="1.0.0"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Hadapsar Testnet - Developer Experience · MosaicDAO"/><meta property="og:type" content="website"/><meta property="og:url" content="https://jayeshbairagi.github.io/mosaicdaoWeb/"/><meta property="og:description" content="# Developer Experience"/><meta property="og:image" content="https://jayeshbairagi.github.io/mosaicdaoWeb/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://jayeshbairagi.github.io/mosaicdaoWeb/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/mosaicdaoWeb/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://jayeshbairagi.github.io/mosaicdaoWeb/blog/atom.xml" title="MosaicDAO Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://jayeshbairagi.github.io/mosaicdaoWeb/blog/feed.xml" title="MosaicDAO Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/mosaicdaoWeb/js/scrollSpy.js"></script><link rel="stylesheet" href="/mosaicdaoWeb/css/main.css"/><script src="/mosaicdaoWeb/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/mosaicdaoWeb/"><img class="logo" src="/mosaicdaoWeb/img/favicon.ico" alt="MosaicDAO"/><h2 class="headerTitleWithLogo">MosaicDAO</h2></a><a href="/mosaicdaoWeb/versions"><h3>1.0.0</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive siteNavItemActive"><a href="/mosaicdaoWeb/docs/1.0.0/mosaic-pm/experience/doc1" target="_self">Docs</a></li><li class=""><a href="/mosaicdaoWeb/help" target="_self">Help</a></li><li class=""><a href="/mosaicdaoWeb/blog/" target="_self">Blog</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Developer Experience</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Developer Experience</h3><ul class=""><li class="navListItem navListItemActive"><a class="navItem" href="/mosaicdaoWeb/docs/1.0.0/mosaic-pm/experience/doc1">Developer Experience</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">Hadapsar Testnet - Developer Experience</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="developer-experience"></a><a href="#developer-experience" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Developer Experience</h1>
<h2><a class="anchor" aria-hidden="true" id="description"></a><a href="#description" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Description</h2>
<p><img src="https://i.imgur.com/xXswcoE.png" alt=""></p>
<p>Hadapsar helps developers in scaling the DApp. The DApp contracts can be deployed on Hadapsar chain and can appreciate the provided horizontal scaling. Through the gateways, the developers can maintain the available economy for their respective tokens.</p>
<p>ERC20 tokens can be moved between chains by depositing on origin chain, which after facilitator action will be available as utility token on the metachain. If the token does not exist on the metachain then it will be deployed and the mapping will be created for all the registered tokens. These utility tokens can later be withdrawn from the metachain and will be made available to the desired beneficiary account on the origin chain.</p>
<p>Explorer helps in tracking the origin chain and the metachain. Transaction specific to the DApp can be tracked and monitored using the provided metachain explorer. The faucet can be used to get the gas on the metachain which is required for the deployment of the DApp contracts and also for performing the transactions.</p>
<h3><a class="anchor" aria-hidden="true" id="videodemo-video-with-all-the-stepsoptional-if-possible"></a><a href="#videodemo-video-with-all-the-stepsoptional-if-possible" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Video(DEMO video with all the steps)(optional, if possible)</h3>
<h2><a class="anchor" aria-hidden="true" id="getting-started-on-hadapsar-testnet"></a><a href="#getting-started-on-hadapsar-testnet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Started on Hadapsar testnet</h2>
<h3><a class="anchor" aria-hidden="true" id="faucet"></a><a href="#faucet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Faucet</h3>
<p>Gas is required to perform the transaction of depositing ERC20 token on the origin chain. You can fund your origin chain account using the faucet.</p>
<ul>
<li>Link for origin chain faucet:</li>
</ul>
<p>Gas is also required to deploy the DApp contracts, perform transfers, perform withdraw and other chain related tasks on the metachain. You can fund your metachain account using the provided faucet.</p>
<ul>
<li>Link for metachain faucet(TODO: metachain explorer link can be added to our faucet):</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="connect-to-hadapsar-testnet"></a><a href="#connect-to-hadapsar-testnet" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connect to Hadapsar testnet</h3>
<p>You will require the RPC URL to connect to the origin chain to perform the transaction and interact with the gateway contracts</p>
<ul>
<li>RPC URL for origin chain: <a href="https://rpc.mosaicdao.org/goerli">https://rpc.mosaicdao.org/goerli</a></li>
</ul>
<p>You will also require the RPC URL to connect to the metachain to deploy the DApp contracts, perform transfers, perform transfers, provide support for blockchain interaction within DApp for the users, and other chain related tasks on the metachain.</p>
<ul>
<li>RPC URL for metachain: <a href="https://chain.mosaicdao.org/hadapsar">https://chain.mosaicdao.org/hadapsar</a></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="deposit-erc20-tokens-on-origin-chain"></a><a href="#deposit-erc20-tokens-on-origin-chain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Deposit ERC20 tokens on origin chain</h3>
<pre><code class="hljs"><span class="hljs-symbol">TODO</span>:
- List of all the registered tokens(<span class="hljs-keyword">addresses)
</span>- Gateway contract <span class="hljs-keyword">address, </span><span class="hljs-keyword">and </span>other required missing config/envs
</code></pre>
<p>For depositing ERC20 tokens on the origin chain</p>
<ul>
<li><p>Node script</p>
<ul>
<li><p>Install npm package dependencies</p>
<pre><code class="hljs css language-sh">npm install --save web3 ethereumjs-tx
</code></pre></li>
<li><p>Create <code>deposit.js</code> script as,
<strong>Note:</strong> Identify missing parameters and improve script after testing(TODO)</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> Web3 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'web3'</span>);
<span class="hljs-keyword">const</span> Tx = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ethereumjs-tx'</span>);

<span class="hljs-keyword">const</span> erc20GatewayContractABI = &lt;CONTRACT_ABI(DEPOSIT_FUNCTION)_ON_ORIGIN&gt;;
const erc20GatewayContractAddress = &lt;CONTRACT_ADDRESS_ON_ORIGIN&gt;;

const account = &lt;ACCOUNT_ADDRESS&gt;;
const privateKey = new Buffer('&lt;YOUR_PRIVATE_KEY&gt;', 'hex');
const valueTokenAddress = &lt;VALUE_TOKEN_ADDRESS&gt;;

const web3Origin = new Web3('https://rpc.mosaicdao.org/goerli');

const erc20GatewayContract = new web3Origin.eth.Contract(
  erc20GatewayContractABI,
  erc20GatewayContractAddress
);

const deposit = erc20GatewayContract.methods
  .deposit(amount, beneficiary, feeGasPrice, feeGasLimit, valueTokenAddress)
  .encodeABI();

web3Origin.eth
  .getTransactionCount(account)
  .then(nonce =&gt; {
    const rawTxDeposit = {
      from: account,
      nonce: "0x" + nonce.toString(16),
      data: deposit,
      to: erc20GatewayContractAddress,
      gasLimit: 6500000,
      gasPrice: 10000000000
    };

    //sign transaction
    const txDeposit = new Tx(rawTxDeposit);

    txDeposit.sign(privateKey);

    const serializedTxDeposit = txDeposit.serialize();

    //send signed transaction (deposit)
    web3Origin.eth
      .sendSignedTransaction("0x" + serializedTxDeposit.toString("hex"))
      .on("receipt", receipt =&gt; {
        console.log(receipt);
      })
      .catch(console.error);
  });
</code></pre></li>
<li><p>Run using,</p>
<pre><code class="hljs css language-sh">node deposit.js
</code></pre></li>
</ul></li>
<li><p>SDK (TODO)</p>
<ul>
<li>Create a config(config.js)</li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">ORIGIN_CHAIN_RPC_URL</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">HADAPSAR_CHAIN_RPC_URL</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">PRIVATE_KEY</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">ACCOUNT_ADDRESS</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">GATEWAY_CONTRACT_ADDRESS</span>: <span class="hljs-string">''</span>
  ...
}
</code></pre>
<ul>
<li>Create <code>deposit.js</code></li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> Mosaic = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mosaic-sdk'</span>);
<span class="hljs-keyword">const</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./config'</span>);

<span class="hljs-keyword">const</span> mosaic = <span class="hljs-keyword">new</span> Mosaic({
  ...
});

mosaic.deposit(
  ...
)
.then()
.catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(error);
});
</code></pre></li>
</ul>
<p><strong>Note:</strong> If the token does not exists on the Hadapsar chain then facilitator service deploys the ERC20 token on Hadapsar chain and provides token address(using token mapping)</p>
<h3><a class="anchor" aria-hidden="true" id="how-to-deploy-dapp-contracts-on-metachain"></a><a href="#how-to-deploy-dapp-contracts-on-metachain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to deploy DApp contracts on metachain</h3>
<ul>
<li><p>Using Metamask and remix solidity browser</p>
<ol>
<li>Connect Metamask to the Hadapsar chain using <a href="https://hackmd.io/QAY3itsfQzGSibKtN-GGdA?view#Connect-metamask-to-the-G%C3%B6erli-chain0">link</a></li>
<li>Open <a href="https://remix.ethereum.org/">remix solidity browser</a>
<img src="https://i.imgur.com/DFi97Nm.png" alt=""></li>
<li>Activate the modules for remix solidity browser
<img src="https://i.imgur.com/ofmU0zt.png" alt=""></li>
<li>Provide permission to metamask to connect it to the Remix ethereum IDE
<img src="https://i.imgur.com/2Ot3ZlJ.png" alt=""></li>
<li>Compile the DApp contract
<img src="https://i.imgur.com/jmwWpOc.png" alt=""></li>
<li>Add the DApp contract
<img src="https://i.imgur.com/WuqJ0TH.png" alt=""></li>
<li>Deploy the contracts
<ul>
<li>Get the deployed contract addresses and add them to your DApp for interaction</li>
</ul></li>
</ol></li>
<li><p>Using truffle package</p>
<ol>
<li>Install truffle and truffle-hdwallet-provider packages as dependency to your node application</li>
</ol>
<pre><code class="hljs css language-sh">npm install --save truffle truffle-hdwallet-provider
</code></pre>
<ol start="2">
<li>Update <code>truffle-config.js</code> by adding the <code>hadapsar</code> network config and also add your 12 word mnemonic,</li>
</ol>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> HDWalletProvider = <span class="hljs-built_in">require</span>(<span class="hljs-string">'truffle-hdwallet-provider'</span>);
<span class="hljs-keyword">const</span> mnemonic = &lt;PASTE YOUR 12 WORDS MNEMONIC HERE&gt;;
const metachainRpc = 'https://chain.mosaicdao.org/hadapsar';

module.exports = {
  networks: {
    hapadsar: {
      provider: function() {
        return new HDWalletProvider(
          mnemonic,
          metachainRpc
        )
      },
      network_id: &lt;TODO&gt;,
      gas: &lt;TODO&gt;,
      gasPrice: &lt;TODO&gt;
    }
  }
};
</code></pre>
<ol start="3">
<li>Compile the contracts</li>
</ol>
<pre><code class="hljs css language-sh">./node_modules/.bin/truffle compile
</code></pre>
<ol start="4">
<li>Deploy the contracts</li>
</ol>
<pre><code class="hljs css language-sh">./node_modules/.bin/truffle migrate --network hapadsar
</code></pre>
<p><strong>Note</strong>:</p>
<ul>
<li>Do not forget to add the mnemonic to the truffle config.</li>
<li>The address at the first HD path to the mnemonic must have sufficient gas required for deployment.</li>
<li>The deployed contract addresses from the logs or build, update the DApp to reference the deployed contract addresses.</li>
</ul></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="withdraw-erc20-tokens-from-metachain"></a><a href="#withdraw-erc20-tokens-from-metachain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Withdraw ERC20 tokens from metachain</h3>
<ul>
<li><p>Node script</p>
<ul>
<li><p>Install npm package dependencies</p>
<pre><code class="hljs css language-sh">npm install --save web3 ethereumjs-tx
</code></pre></li>
<li><p>Create <code>deposit.js</code> script by adding your account address, private key, and the utility token address on the metachain,
<strong>Note:</strong> Identify missing parameters and improve script after testing(TODO)</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> Web3 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'web3'</span>);
<span class="hljs-keyword">const</span> Tx = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ethereumjs-tx'</span>);

<span class="hljs-keyword">const</span> erc20CogatewayContractABI = &lt;CONTRACT_ABI(WITHDRAW_FUNCTION)_ON_HADAPSAR_TESTNET&gt;;
const erc20CogatewayContractAddress = &lt;CONTRACT_ADDRESS_ON_HADAPSAR_TESTNET&gt;;

const account = &lt;ACCOUNT_ADDRESS&gt;;
const privateKey = new Buffer('&lt;YOUR_PRIVATE_KEY&gt;', 'hex');
const utilityTokenAddress = &lt;UtilityTokenAddress&gt;;

const web3Metachain = new Web3('https://chain.mosaicdao.org/hadapsar');

const erc20CogatewayContract = new web3Metachain.eth.Contract(
  erc20CogatewayContractABI,
  erc20CogatewayContractAddress
);

const withdraw = erc20CogatewayContract.methods
  .withdraw(amount, beneficiary, feeGasPrice, feeGasLimit, utilityTokenAddress)
  .encodeABI();

web3Metachain.eth
  .getTransactionCount(account)
  .then(nonce =&gt; {
    const rawTxWithdraw = {
      from: account,
      nonce: "0x" + nonce.toString(16),
      data: withdraw,
      to: erc20CogatewayContractAddress,
      gasLimit: 6500000,
      gasPrice: 10000000000
    };

    //sign transaction
    const txWithdraw = new Tx(rawTxWithdraw);

    txWithdraw.sign(privateKey);

    const serializedTxWithdraw = txWithdraw.serialize();

    //send signed transaction (withdraw)
    web3Metachain.eth
      .sendSignedTransaction("0x" + serializedTxWithdraw.toString("hex"))
      .on("receipt", receipt =&gt; {
        console.log(receipt);
      })
      .catch(console.error);
  });
</code></pre></li>
</ul></li>
<li><p>SDK (TODO)</p>
<ul>
<li>Create a config(config.js)</li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">ORIGIN_CHAIN_RPC_URL</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">HADAPSAR_CHAIN_RPC_URL</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">PRIVATE_KEY</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">ACCOUNT_ADDRESS</span>: <span class="hljs-string">''</span>,
  <span class="hljs-attr">GATEWAY_CONTRACT_ADDRESS</span>: <span class="hljs-string">''</span>
  ...
}
</code></pre>
<ul>
<li>Create <code>withdraw.js</code></li>
</ul>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> Mosaic = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mosaic-sdk'</span>);
<span class="hljs-keyword">const</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./config'</span>);

<span class="hljs-keyword">const</span> mosaic = <span class="hljs-keyword">new</span> Mosaic({
  ...
});

mosaic.withdraw(
  ...
)
.then()
.catch(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(error);
});
</code></pre></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="explorer"></a><a href="#explorer" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Explorer</h3>
<ul>
<li>Link to Origin chain explorer:</li>
<li>Link to Metachain explorer:</li>
</ul>
<h2><a class="anchor" aria-hidden="true" id="connect-metamask-to-the-origin-chain"></a><a href="#connect-metamask-to-the-origin-chain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connect metamask to the Origin chain</h2>
<ol>
<li><p>Download metamask browser extension
<img src="https://i.imgur.com/oHP7xjZ.png" alt=""></p></li>
<li><p>Login to your metamask browser extension
<img src="https://i.imgur.com/8Zpvbg2.png" alt=""></p></li>
<li><p>Go to the network tab and add RPC url for Origin chain
<img src="https://i.imgur.com/U1lsBhd.png" alt=""></p></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="connect-metamask-to-the-metachain"></a><a href="#connect-metamask-to-the-metachain" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connect metamask to the Metachain</h2>
<ol>
<li><p>Download metamask browser extension
<img src="https://i.imgur.com/oHP7xjZ.png" alt=""></p></li>
<li><p>Login to your metamask browser extension
<img src="https://i.imgur.com/8Zpvbg2.png" alt=""></p></li>
<li><p>Go to the network tab and add RPC url for metachain
<img src="https://i.imgur.com/U1lsBhd.png" alt=""></p></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="sdk-reference"></a><a href="#sdk-reference" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SDK reference</h2>
<ul>
<li>Deposit ERC20 on Origin chain</li>
<li>Withdraw ERC20 from Metachain</li>
<li>Get token balance on Origin chain</li>
<li>Get token balance on Metachain</li>
<li>Get token mapping(address) on Metachain</li>
</ul>
</span></div></article></div><div class="docs-prevnext"></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#description">Description</a><ul class="toc-headings"><li><a href="#videodemo-video-with-all-the-stepsoptional-if-possible">Video(DEMO video with all the steps)(optional, if possible)</a></li></ul></li><li><a href="#getting-started-on-hadapsar-testnet">Getting Started on Hadapsar testnet</a><ul class="toc-headings"><li><a href="#faucet">Faucet</a></li><li><a href="#connect-to-hadapsar-testnet">Connect to Hadapsar testnet</a></li><li><a href="#deposit-erc20-tokens-on-origin-chain">Deposit ERC20 tokens on origin chain</a></li><li><a href="#how-to-deploy-dapp-contracts-on-metachain">How to deploy DApp contracts on metachain</a></li><li><a href="#withdraw-erc20-tokens-from-metachain">Withdraw ERC20 tokens from metachain</a></li><li><a href="#explorer">Explorer</a></li></ul></li><li><a href="#connect-metamask-to-the-origin-chain">Connect metamask to the Origin chain</a></li><li><a href="#connect-metamask-to-the-metachain">Connect metamask to the Metachain</a></li><li><a href="#sdk-reference">SDK reference</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/mosaicdaoWeb/" class="nav-home"><img src="/mosaicdaoWeb/img/favicon.ico" alt="MosaicDAO" width="66" height="58"/></a><div><h5>Docs</h5><a href="/mosaicdaoWeb/docs/en/doc1.html">Getting Started (or other categories)</a><a href="/mosaicdaoWeb/docs/en/doc2.html">Guides (or other categories)</a><a href="/mosaicdaoWeb/docs/en/doc3.html">API Reference (or other categories)</a></div><div><h5>Community</h5><a href="/mosaicdaoWeb/en/users.html">User Showcase</a><a href="https://stackoverflow.com/questions/tagged/" target="_blank" rel="noreferrer noopener">Stack Overflow</a><a href="https://discordapp.com/">Project Chat</a><a href="https://twitter.com/" target="_blank" rel="noreferrer noopener">Twitter</a></div><div><h5>More</h5><a href="/mosaicdaoWeb/blog">Blog</a><a href="https://github.com/">GitHub</a><a class="github-button" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://opensource.facebook.com/" target="_blank" rel="noreferrer noopener" class="fbOpenSource"><img src="/mosaicdaoWeb/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2020 Your Name or Your Company Name</section></footer></div></body></html>